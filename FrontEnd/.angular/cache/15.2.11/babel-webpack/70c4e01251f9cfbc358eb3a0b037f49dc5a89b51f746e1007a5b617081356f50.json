{"ast":null,"code":"import { ScaleType } from '@swimlane/ngx-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/CandidatService\";\nimport * as i2 from \"../Services/QuestionService\";\nimport * as i3 from \"../Services/Questionnaire\";\nimport * as i4 from \"../Services/QuizService\";\nimport * as i5 from \"@angular/material/card\";\nexport class StatistiquesComponent {\n  constructor(candidatService, questionService, questionnaireService, quizService) {\n    this.candidatService = candidatService;\n    this.questionService = questionService;\n    this.questionnaireService = questionnaireService;\n    this.quizService = quizService;\n    this.view = [350, 250]; // Taille des graphiques\n    // options\n    this.showXAxis = true;\n    this.showYAxis = true;\n    this.gradient = false;\n    this.showLegend = true;\n    this.showXAxisLabel = true;\n    this.xAxisLabel = 'Niveau';\n    this.showYAxisLabel = true;\n    this.yAxisLabel = 'Nombre de candidats';\n    this.colorScheme = {\n      name: 'custom',\n      selectable: true,\n      group: ScaleType.Ordinal,\n      domain: ['#0000FF', '#FFFF00', '#808080'] // Bleu, Jaune, Gris\n    };\n\n    this.barChartData = [];\n  }\n  ngOnInit() {\n    this.loadChartData();\n  }\n  loadChartData() {\n    this.candidatService.getTotalCandidatsCount().subscribe(count => {\n      this.totalCandidatsCount = count;\n      this.updateBarChartData();\n    });\n    this.questionService.getTotalQuestionCount().subscribe(count => {\n      this.totalQuestionsCount = count;\n      this.updateBarChartData();\n    });\n    this.questionnaireService.getTotalQuestionnaireCount().subscribe(count => {\n      this.totalQuestionnairesCount = count;\n      this.updateBarChartData();\n    });\n    this.quizService.getTotalQuizCount().subscribe(count => {\n      this.totalQuizzesCount = count;\n      this.updateBarChartData();\n    });\n  }\n  updateBarChartData() {\n    this.barChartData = [{\n      name: 'Candidats',\n      series: [{\n        name: 'Total',\n        value: this.totalCandidatsCount\n      }]\n    }, {\n      name: 'Questions',\n      series: [{\n        name: 'Total',\n        value: this.totalQuestionsCount\n      }]\n    }, {\n      name: 'Questionnaires',\n      series: [{\n        name: 'Total',\n        value: this.totalQuestionnairesCount\n      }]\n    }, {\n      name: 'Quizzes',\n      series: [{\n        name: 'Total',\n        value: this.totalQuizzesCount\n      }]\n    }];\n  }\n  static #_ = this.ɵfac = function StatistiquesComponent_Factory(t) {\n    return new (t || StatistiquesComponent)(i0.ɵɵdirectiveInject(i1.CandidatService), i0.ɵɵdirectiveInject(i2.QuestionService), i0.ɵɵdirectiveInject(i3.QuestionnaireService), i0.ɵɵdirectiveInject(i4.QuizService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StatistiquesComponent,\n    selectors: [[\"app-statistiques\"]],\n    decls: 6,\n    vars: 11,\n    consts: [[1, \"statistics-container\"], [3, \"view\", \"scheme\", \"results\", \"gradient\", \"xAxis\", \"yAxis\", \"legend\", \"showXAxisLabel\", \"showYAxisLabel\", \"xAxisLabel\", \"yAxisLabel\"]],\n    template: function StatistiquesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\")(2, \"mat-card-title\");\n        i0.ɵɵtext(3, \"Comparaison des Entit\\u00E9s\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"mat-card-content\");\n        i0.ɵɵelement(5, \"ngx-charts-bar-vertical-stack\", 1);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"view\", ctx.view)(\"scheme\", ctx.colorScheme)(\"results\", ctx.barChartData)(\"gradient\", ctx.gradient)(\"xAxis\", ctx.showXAxis)(\"yAxis\", ctx.showYAxis)(\"legend\", ctx.showLegend)(\"showXAxisLabel\", ctx.showXAxisLabel)(\"showYAxisLabel\", ctx.showYAxisLabel)(\"xAxisLabel\", ctx.xAxisLabel)(\"yAxisLabel\", ctx.yAxisLabel);\n      }\n    },\n    dependencies: [i5.MatCard, i5.MatCardContent, i5.MatCardTitle],\n    styles: [\".statistics-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  justify-content: space-around;\\r\\n}\\r\\n\\r\\nmat-card[_ngcontent-%COMP%] {\\r\\n  width: 45%;\\r\\n  margin: 10px;\\r\\n}\\r\\n\\r\\ncanvas[_ngcontent-%COMP%] {\\r\\n  width: 100% !important;\\r\\n  height: 250px !important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc3RhdGlzdGlxdWVzL3N0YXRpc3RpcXVlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLGVBQWU7RUFDZiw2QkFBNkI7QUFDL0I7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsWUFBWTtBQUNkOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLHdCQUF3QjtBQUMxQiIsInNvdXJjZXNDb250ZW50IjpbIi5zdGF0aXN0aWNzLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbn1cclxuXHJcbm1hdC1jYXJkIHtcclxuICB3aWR0aDogNDUlO1xyXG4gIG1hcmdpbjogMTBweDtcclxufVxyXG5cclxuY2FudmFzIHtcclxuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIGhlaWdodDogMjUwcHggIWltcG9ydGFudDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"AAOA,SAASA,SAAS,QAAe,sBAAsB;;;;;;;AAOvD,OAAM,MAAOC,qBAAqB;EA6BhCC,YAAoBC,eAAgC,EAC1CC,eAAgC,EAChCC,oBAA0C,EAC1CC,WAAwB;IAHd,oBAAe,GAAfH,eAAe;IACzB,oBAAe,GAAfC,eAAe;IACf,yBAAoB,GAApBC,oBAAoB;IACpB,gBAAW,GAAXC,WAAW;IAtBrB,SAAI,GAAqB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;IAErC;IACA,cAAS,GAAY,IAAI;IACzB,cAAS,GAAY,IAAI;IACzB,aAAQ,GAAY,KAAK;IACzB,eAAU,GAAY,IAAI;IAC1B,mBAAc,GAAY,IAAI;IAC9B,eAAU,GAAW,QAAQ;IAC7B,mBAAc,GAAY,IAAI;IAC9B,eAAU,GAAW,qBAAqB;IAE1C,gBAAW,GAAU;MACnBC,IAAI,EAAE,QAAQ;MACdC,UAAU,EAAE,IAAI;MAChBC,KAAK,EAAET,SAAS,CAACU,OAAO;MACxBC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KAC3C;;IAME,IAAI,CAACC,YAAY,GAAG,EAAE;EACzB;EAEAC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACX,eAAe,CAACY,sBAAsB,EAAE,CAACC,SAAS,CAAEC,KAAa,IAAI;MACxE,IAAI,CAACC,mBAAmB,GAAGD,KAAK;MAChC,IAAI,CAACE,kBAAkB,EAAE;IAC3B,CAAC,CAAC;IAEF,IAAI,CAACf,eAAe,CAACgB,qBAAqB,EAAE,CAACJ,SAAS,CAAEC,KAAa,IAAI;MACvE,IAAI,CAACI,mBAAmB,GAAGJ,KAAK;MAChC,IAAI,CAACE,kBAAkB,EAAE;IAC3B,CAAC,CAAC;IAEF,IAAI,CAACd,oBAAoB,CAACiB,0BAA0B,EAAE,CAACN,SAAS,CAAEC,KAAa,IAAI;MACjF,IAAI,CAACM,wBAAwB,GAAGN,KAAK;MACrC,IAAI,CAACE,kBAAkB,EAAE;IAC3B,CAAC,CAAC;IAEF,IAAI,CAACb,WAAW,CAACkB,iBAAiB,EAAE,CAACR,SAAS,CAAEC,KAAa,IAAI;MAC/D,IAAI,CAACQ,iBAAiB,GAAGR,KAAK;MAC9B,IAAI,CAACE,kBAAkB,EAAE;IAC3B,CAAC,CAAC;EACJ;EAEAA,kBAAkB;IAChB,IAAI,CAACP,YAAY,GAAG,CAClB;MACEL,IAAI,EAAE,WAAW;MACjBmB,MAAM,EAAE,CACN;QAAEnB,IAAI,EAAE,OAAO;QAAEoB,KAAK,EAAE,IAAI,CAACT;MAAmB,CAAE;KAErD,EACD;MACEX,IAAI,EAAE,WAAW;MACjBmB,MAAM,EAAE,CACN;QAAEnB,IAAI,EAAE,OAAO;QAAEoB,KAAK,EAAE,IAAI,CAACN;MAAmB,CAAE;KAErD,EACD;MACEd,IAAI,EAAE,gBAAgB;MACtBmB,MAAM,EAAE,CACN;QAAEnB,IAAI,EAAE,OAAO;QAAEoB,KAAK,EAAE,IAAI,CAACJ;MAAwB,CAAE;KAE1D,EACD;MACEhB,IAAI,EAAE,SAAS;MACfmB,MAAM,EAAE,CACN;QAAEnB,IAAI,EAAE,OAAO;QAAEoB,KAAK,EAAE,IAAI,CAACF;MAAiB,CAAE;KAEnD,CACF;EACH;EAAC;qBAzFUxB,qBAAqB;EAAA;EAAA;UAArBA,qBAAqB;IAAA2B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCsElCC,8BAAkC;QAEdA,4CAAuB;QAAAA,iBAAiB;QACxDA,wCAAkB;QAChBA,mDAYgC;QAClCA,iBAAmB;;;QAZfA,eAAa;QAAbA,+BAAa","names":["ScaleType","StatistiquesComponent","constructor","candidatService","questionService","questionnaireService","quizService","name","selectable","group","Ordinal","domain","barChartData","ngOnInit","loadChartData","getTotalCandidatsCount","subscribe","count","totalCandidatsCount","updateBarChartData","getTotalQuestionCount","totalQuestionsCount","getTotalQuestionnaireCount","totalQuestionnairesCount","getTotalQuizCount","totalQuizzesCount","series","value","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\statistiques\\statistiques.component.ts","C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\statistiques\\statistiques.component.html"],"sourcesContent":["import {  Inject } from '@angular/core';\nimport { CandidatService } from '../Services/CandidatService';\nimport { QuestionService } from '../Services/QuestionService';\nimport { QuestionnaireService } from '../Services/Questionnaire';\nimport { QuizService } from '../Services/QuizService';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\nimport { Component, OnInit } from '@angular/core';\nimport { ScaleType, Color } from '@swimlane/ngx-charts';\n@Component({\n  selector: 'app-statistiques',\n  templateUrl: './statistiques.component.html',\n  styleUrls: ['./statistiques.component.css']\n})\n\nexport class StatistiquesComponent implements OnInit {\n  barChartData: any[];\n  pieChartData!: any[];\n  lineChartData!: any[];\n  areaChartData!: any[];\n  totalCandidatsCount!: number;\n  totalQuestionsCount!: number;\n  totalQuestionnairesCount!: number;\n  totalQuizzesCount!: number;\n\n  view: [number, number] = [350, 250]; // Taille des graphiques\n\n  // options\n  showXAxis: boolean = true;\n  showYAxis: boolean = true;\n  gradient: boolean = false;\n  showLegend: boolean = true;\n  showXAxisLabel: boolean = true;\n  xAxisLabel: string = 'Niveau';\n  showYAxisLabel: boolean = true;\n  yAxisLabel: string = 'Nombre de candidats';\n\n  colorScheme: Color = {\n    name: 'custom',\n    selectable: true,\n    group: ScaleType.Ordinal,\n    domain: ['#0000FF', '#FFFF00', '#808080'] // Bleu, Jaune, Gris\n  };\n\n  constructor(private candidatService: CandidatService,\n    private questionService: QuestionService,\n    private questionnaireService: QuestionnaireService,\n    private quizService: QuizService,\n  ) {this.barChartData = [];\n  }\n\n  ngOnInit(): void {\n    this.loadChartData();\n  }\n\n  loadChartData() {\n    this.candidatService.getTotalCandidatsCount().subscribe((count: number) => {\n      this.totalCandidatsCount = count;\n      this.updateBarChartData();\n    });\n\n    this.questionService.getTotalQuestionCount().subscribe((count: number) => {\n      this.totalQuestionsCount = count;\n      this.updateBarChartData();\n    });\n\n    this.questionnaireService.getTotalQuestionnaireCount().subscribe((count: number) => {\n      this.totalQuestionnairesCount = count;\n      this.updateBarChartData();\n    });\n\n    this.quizService.getTotalQuizCount().subscribe((count: number) => {\n      this.totalQuizzesCount = count;\n      this.updateBarChartData();\n    });\n  }\n\n  updateBarChartData() {\n    this.barChartData = [\n      {\n        name: 'Candidats',\n        series: [\n          { name: 'Total', value: this.totalCandidatsCount }\n        ]\n      },\n      {\n        name: 'Questions',\n        series: [\n          { name: 'Total', value: this.totalQuestionsCount }\n        ]\n      },\n      {\n        name: 'Questionnaires',\n        series: [\n          { name: 'Total', value: this.totalQuestionnairesCount }\n        ]\n      },\n      {\n        name: 'Quizzes',\n        series: [\n          { name: 'Total', value: this.totalQuizzesCount }\n        ]\n      }\n    ];\n  }\n}","<!--<div class=\"statistics-container\">\n  <mat-card>\n    <mat-card-title>Comparaison des Entités</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-bar-vertical-stack\n        [view]=\"view\"\n        [scheme]=\"colorScheme\"\n        [results]=\"barChartData\"\n        [gradient]=\"gradient\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [legend]=\"showLegend\"\n        [showXAxisLabel]=\"showXAxisLabel\"\n        [showYAxisLabel]=\"showYAxisLabel\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\">\n      </ngx-charts-bar-vertical-stack>\n    </mat-card-content>\n  </mat-card>\n\n  <mat-card>\n    <mat-card-title>Nombre de Candidats par Niveau</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-bar-vertical\n        [view]=\"view\"\n        [results]=\"barChartData\"\n        [gradient]=\"gradient\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [legend]=\"showLegend\"\n        [showXAxisLabel]=\"showXAxisLabel\"\n        [showYAxisLabel]=\"showYAxisLabel\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-bar-vertical>\n    </mat-card-content>\n  </mat-card>\n\n  <mat-card>\n    <mat-card-title>Répartition des Scores</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-pie-chart\n        [view]=\"view\"\n        [results]=\"pieChartData\"\n        [legend]=\"showLegend\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-pie-chart>\n    </mat-card-content>\n  </mat-card>\n\n  <mat-card>\n    <mat-card-title>Évolution des Scores</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-line-chart\n        [view]=\"view\"\n        [results]=\"lineChartData\"\n        [legend]=\"showLegend\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-line-chart>\n    </mat-card-content>\n  </mat-card>\n\n  <mat-card>\n    <mat-card-title>Évolution des Candidats par Niveau</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-area-chart\n        [view]=\"view\"\n        [results]=\"areaChartData\"\n        [legend]=\"showLegend\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-area-chart>\n    </mat-card-content>\n  </mat-card>\n</div>\n-->\n<div class=\"statistics-container\">\n  <mat-card>\n    <mat-card-title>Comparaison des Entités</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-bar-vertical-stack\n        [view]=\"view\"\n        [scheme]=\"colorScheme\"\n        [results]=\"barChartData\"\n        [gradient]=\"gradient\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [legend]=\"showLegend\"\n        [showXAxisLabel]=\"showXAxisLabel\"\n        [showYAxisLabel]=\"showYAxisLabel\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\">\n      </ngx-charts-bar-vertical-stack>\n    </mat-card-content>\n  </mat-card>\n  \n  <!-- Other ngx-charts components with similar bindings -->\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}