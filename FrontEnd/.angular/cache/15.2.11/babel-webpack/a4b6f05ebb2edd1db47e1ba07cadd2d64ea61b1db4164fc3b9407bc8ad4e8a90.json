{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../Services/AvisClientService\";\nimport * as i3 from \"@angular/forms\";\nexport class MerciComponent {\n  constructor(route, avisClientService) {\n    this.route = route;\n    this.avisClientService = avisClientService;\n    this.comment = '';\n    this.rating = 0;\n  }\n  ngOnInit() {\n    // Récupérer le candidatId depuis les paramètres de l'URL\n    this.route.queryParams.subscribe(params => {\n      const candidatId = params['candidatId'];\n      this.candidatId = candidatId;\n      console.log('CandidatId récupéré dans MerciComponent:', candidatId);\n      // Utilisez le candidatId comme nécessaire dans votre composant\n    });\n  }\n\n  rate(selectedRating) {\n    this.rating = selectedRating;\n  }\n  submitFeedback() {\n    if (this.rating && this.comment) {\n      console.log(this.rating, this.comment);\n      const avisClient = {\n        rating: this.rating,\n        comment: this.comment,\n        candidatId: this.candidatId,\n        submittedAt: new Date()\n      };\n      this.avisClientService.submitFeedback(avisClient).subscribe(response => {\n        console.log('Feedback submitted successfully', response);\n        // Réinitialiser les valeurs après l'affichage\n        this.rating = 0;\n        this.comment = '';\n      }, error => {\n        console.error('Error submitting feedback', error);\n      });\n    } else {\n      console.error('Rating and comment are required');\n    }\n  }\n  static #_ = this.ɵfac = function MerciComponent_Factory(t) {\n    return new (t || MerciComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.AvisClientService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MerciComponent,\n    selectors: [[\"app-merci\"]],\n    decls: 19,\n    vars: 11,\n    consts: [[1, \"container\"], [1, \"rating\"], [1, \"star\", 3, \"click\"], [\"placeholder\", \"Ajoutez un commentaire...\", 1, \"comment-textarea\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n    template: function MerciComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"Merci pour votre engagement !\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"Nous appr\\u00E9cions votre participation. Votre contribution est tr\\u00E8s importante pour nous.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 1)(6, \"span\", 2);\n        i0.ɵɵlistener(\"click\", function MerciComponent_Template_span_click_6_listener() {\n          return ctx.rate(1);\n        });\n        i0.ɵɵtext(7, \"\\u2605\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"span\", 2);\n        i0.ɵɵlistener(\"click\", function MerciComponent_Template_span_click_8_listener() {\n          return ctx.rate(2);\n        });\n        i0.ɵɵtext(9, \"\\u2605\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"span\", 2);\n        i0.ɵɵlistener(\"click\", function MerciComponent_Template_span_click_10_listener() {\n          return ctx.rate(3);\n        });\n        i0.ɵɵtext(11, \"\\u2605\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"span\", 2);\n        i0.ɵɵlistener(\"click\", function MerciComponent_Template_span_click_12_listener() {\n          return ctx.rate(4);\n        });\n        i0.ɵɵtext(13, \"\\u2605\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"span\", 2);\n        i0.ɵɵlistener(\"click\", function MerciComponent_Template_span_click_14_listener() {\n          return ctx.rate(5);\n        });\n        i0.ɵɵtext(15, \"\\u2605\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"textarea\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function MerciComponent_Template_textarea_ngModelChange_16_listener($event) {\n          return ctx.comment = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function MerciComponent_Template_button_click_17_listener() {\n          return ctx.submitFeedback();\n        });\n        i0.ɵɵtext(18, \"Soumettre\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"gold\", ctx.rating && ctx.rating >= 1);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"gold\", ctx.rating && ctx.rating >= 2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"gold\", ctx.rating && ctx.rating >= 3);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"gold\", ctx.rating && ctx.rating >= 4);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"gold\", ctx.rating && ctx.rating >= 5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.comment);\n      }\n    },\n    dependencies: [i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\".container[_ngcontent-%COMP%] {\\r\\n    width: 80%;\\r\\n    max-width: 600px;\\r\\n    margin: 50px auto;\\r\\n    padding: 20px;\\r\\n    background-color: #fff; \\r\\n    border-radius: 10px;\\r\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); \\r\\n    text-align: center; \\r\\n}\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n    background-color: #132579; \\r\\n    color: #fff; \\r\\n    border: none; \\r\\n    border-radius: 5px; \\r\\n    padding: 10px 20px; \\r\\n    font-size: 16px; \\r\\n    cursor: pointer; \\r\\n    transition: background-color 0.3s ease; \\r\\n}\\r\\nh2[_ngcontent-%COMP%] {\\r\\n    color: #132579; \\r\\n}\\r\\n\\r\\np[_ngcontent-%COMP%] {\\r\\n    color: #333; \\r\\n}\\r\\n\\r\\n.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child {\\r\\n    margin-top: 0;\\r\\n}\\r\\n\\r\\n.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child {\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.score[_ngcontent-%COMP%] {\\r\\n    font-weight: bold; \\r\\n    font-size: 24px; \\r\\n    margin-top: 20px; \\r\\n}\\r\\n\\r\\n.star[_ngcontent-%COMP%] {\\r\\n    cursor: pointer;\\r\\n    font-size: 24px;\\r\\n    color: #ccc; \\r\\n}\\r\\n\\r\\n.star.gold[_ngcontent-%COMP%] {\\r\\n    color: gold; \\r\\n}\\r\\n\\r\\n.container[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\ntextarea[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    height: 100px;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n.comment-section[_ngcontent-%COMP%] {\\r\\n    margin-top: 20px;\\r\\n    text-align: left; \\r\\n}\\r\\n\\r\\n.comment-label[_ngcontent-%COMP%] {\\r\\n    font-size: 18px;\\r\\n    font-weight: bold;\\r\\n    color: #132579; \\r\\n}\\r\\n\\r\\n.comment-textarea[_ngcontent-%COMP%] {\\r\\n    width: 90%;\\r\\n    height: 150px; \\r\\n    margin-top: 10px;\\r\\n    padding: 10px; \\r\\n    border: 1px solid #ccc; \\r\\n    border-radius: 5px; \\r\\n    resize: vertical; \\r\\n}\\r\\n\\r\\n.comment-textarea[_ngcontent-%COMP%]:focus {\\r\\n    outline: none; \\r\\n    border-color: #132579; \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvUmVtZXJjaWVtZW50L21lcmNpLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxVQUFVO0lBQ1YsZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2Isc0JBQXNCLEVBQUUsZUFBZTtJQUN2QyxtQkFBbUI7SUFDbkIsdUNBQXVDLEVBQUUsaUJBQWlCO0lBQzFELGtCQUFrQixFQUFFLHdCQUF3QjtBQUNoRDtBQUNBO0lBQ0kseUJBQXlCLEVBQUUsMEJBQTBCO0lBQ3JELFdBQVcsRUFBRSw2QkFBNkI7SUFDMUMsWUFBWSxFQUFFLG1CQUFtQjtJQUNqQyxrQkFBa0IsRUFBRSxtQkFBbUI7SUFDdkMsa0JBQWtCLEVBQUUsa0NBQWtDO0lBQ3RELGVBQWUsRUFBRSxxQkFBcUI7SUFDdEMsZUFBZSxFQUFFLHFCQUFxQjtJQUN0QyxzQ0FBc0MsRUFBRSw2Q0FBNkM7QUFDekY7QUFDQTtJQUNJLGNBQWMsRUFBRSxlQUFlO0FBQ25DOztBQUVBO0lBQ0ksV0FBVyxFQUFFLGVBQWU7QUFDaEM7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksaUJBQWlCLEVBQUUsa0JBQWtCO0lBQ3JDLGVBQWUsRUFBRSxpQ0FBaUM7SUFDbEQsZ0JBQWdCLEVBQUUsNkJBQTZCO0FBQ25EOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGVBQWU7SUFDZixXQUFXLEVBQUUsbUNBQW1DO0FBQ3BEOztBQUVBO0lBQ0ksV0FBVyxFQUFFLGlEQUFpRDtBQUNsRTs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFdBQVc7SUFDWCxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsZ0JBQWdCLEVBQUUsaUNBQWlDO0FBQ3ZEOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjLEVBQUUsa0JBQWtCO0FBQ3RDOztBQUVBO0lBQ0ksVUFBVTtJQUNWLGFBQWEsRUFBRSxvREFBb0Q7SUFDbkUsZ0JBQWdCO0lBQ2hCLGFBQWEsRUFBRSwyQ0FBMkM7SUFDMUQsc0JBQXNCLEVBQUUsa0JBQWtCO0lBQzFDLGtCQUFrQixFQUFFLG1CQUFtQjtJQUN2QyxnQkFBZ0IsRUFBRSw0Q0FBNEM7QUFDbEU7O0FBRUE7SUFDSSxhQUFhLEVBQUUseURBQXlEO0lBQ3hFLHFCQUFxQixFQUFFLG9EQUFvRDtBQUMvRSIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gICAgd2lkdGg6IDgwJTtcclxuICAgIG1heC13aWR0aDogNjAwcHg7XHJcbiAgICBtYXJnaW46IDUwcHggYXV0bztcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOyAvKiBGb25kIGJsYW5jICovXHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpOyAvKiBPbWJyZSBsw4PCqWfDg8KocmUgKi9cclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgLyogQ2VudHJhZ2UgZHUgY29udGVudSAqL1xyXG59XHJcbmJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTMyNTc5OyAvKiBDb3VsZXVyIGRlIGZvbmQgYmxldWUgKi9cclxuICAgIGNvbG9yOiAjZmZmOyAvKiBDb3VsZXVyIGR1IHRleHRlIGJsYW5jaGUgKi9cclxuICAgIGJvcmRlcjogbm9uZTsgLyogUGFzIGRlIGJvcmR1cmUgKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDsgLyogQ29pbnMgYXJyb25kaXMgKi9cclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDsgLyogUGFkZGluZyBwb3VyIGwnZXNwYWNlIGludGVybmUgKi9cclxuICAgIGZvbnQtc2l6ZTogMTZweDsgLyogVGFpbGxlIGRlIHBvbGljZSAqL1xyXG4gICAgY3Vyc29yOiBwb2ludGVyOyAvKiBDdXJzZXVyIHBvaW50ZXVyICovXHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTsgLyogVHJhbnNpdGlvbiBkb3VjZSBwb3VyIGxhIGNvdWxldXIgZGUgZm9uZCAqL1xyXG59XHJcbmgyIHtcclxuICAgIGNvbG9yOiAjMTMyNTc5OyAvKiBUZXh0ZSBibGV1ICovXHJcbn1cclxuXHJcbnAge1xyXG4gICAgY29sb3I6ICMzMzM7IC8qIFRleHRlIG5vaXIgKi9cclxufVxyXG5cclxuLmNvbnRhaW5lciBwOmZpcnN0LWNoaWxkIHtcclxuICAgIG1hcmdpbi10b3A6IDA7XHJcbn1cclxuXHJcbi5jb250YWluZXIgcDpsYXN0LWNoaWxkIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbn1cclxuXHJcbi5zY29yZSB7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDsgLyogVGV4dGUgZW4gZ3JhcyAqL1xyXG4gICAgZm9udC1zaXplOiAyNHB4OyAvKiBUYWlsbGUgZGUgcG9saWNlIHBsdXMgZ3JhbmRlICovXHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4OyAvKiBNYXJnZSBhdS1kZXNzdXMgZHUgc2NvcmUgKi9cclxufVxyXG5cclxuLnN0YXIge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG4gICAgY29sb3I6ICNjY2M7IC8qIENvdWxldXIgcGFyIGTDg8KpZmF1dCBkZXMgw4PCqXRvaWxlcyAqL1xyXG59XHJcblxyXG4uc3Rhci5nb2xkIHtcclxuICAgIGNvbG9yOiBnb2xkOyAvKiBDb3VsZXVyIGRvcsODwqllIHBvdXIgbGVzIMODwql0b2lsZXMgc8ODwqlsZWN0aW9ubsODwqllcyAqL1xyXG59XHJcblxyXG4uY29udGFpbmVyIC5yYXRpbmcge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxudGV4dGFyZWEge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG4uY29tbWVudC1zZWN0aW9uIHtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0OyAvKiBBbGlnbmVtZW50IGR1IHRleHRlIMODwqAgZ2F1Y2hlICovXHJcbn1cclxuXHJcbi5jb21tZW50LWxhYmVsIHtcclxuICAgIGZvbnQtc2l6ZTogMThweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgY29sb3I6ICMxMzI1Nzk7IC8qIENvdWxldXIgYmxldWUgKi9cclxufVxyXG5cclxuLmNvbW1lbnQtdGV4dGFyZWEge1xyXG4gICAgd2lkdGg6IDkwJTtcclxuICAgIGhlaWdodDogMTUwcHg7IC8qIEhhdXRldXIgYXVnbWVudMODwqllIHBvdXIgdW5lIG1laWxsZXVyZSB2aXNpYmlsaXTDg8KpICovXHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgcGFkZGluZzogMTBweDsgLyogQWpvdXQgZGUgcGFkZGluZyBwb3VyIGwnZXNwYWNlIGludGVybmUgKi9cclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7IC8qIEJvcmR1cmUgZ3Jpc2UgKi9cclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDsgLyogQ29pbnMgYXJyb25kaXMgKi9cclxuICAgIHJlc2l6ZTogdmVydGljYWw7IC8qIFBlcm1ldHRyZSBsZSByZWRpbWVuc2lvbm5lbWVudCB2ZXJ0aWNhbCAqL1xyXG59XHJcblxyXG4uY29tbWVudC10ZXh0YXJlYTpmb2N1cyB7XHJcbiAgICBvdXRsaW5lOiBub25lOyAvKiBTdXBwcmltZXIgbGEgYm9yZHVyZSBibGV1ZSBsb3JzcXUnaWwgZXN0IHPDg8KpbGVjdGlvbm7Dg8KpICovXHJcbiAgICBib3JkZXItY29sb3I6ICMxMzI1Nzk7IC8qIENvdWxldXIgZGUgbGEgYm9yZHVyZSBsb3JzcXUnaWwgZXN0IHPDg8KpbGVjdGlvbm7Dg8KpICovXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;AAUA,OAAM,MAAOA,cAAc;EAMzBC,YAAoBC,KAAqB,EAAUC,iBAAoC;IAAnE,UAAK,GAALD,KAAK;IAA0B,sBAAiB,GAAjBC,iBAAiB;IAJpE,YAAO,GAAW,EAAE;IACpB,WAAM,GAAuB,CAAC;EAG6D;EAC3FC,QAAQ;IACN;IACA,IAAI,CAACF,KAAK,CAACG,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;MACxC,MAAMC,UAAU,GAAGD,MAAM,CAAC,YAAY,CAAC;MACvC,IAAI,CAACC,UAAU,GAACA,UAAU;MAC1BC,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAEF,UAAU,CAAC;MACnE;IACF,CAAC,CAAC;EACJ;;EAEAG,IAAI,CAACC,cAAsB;IACzB,IAAI,CAACC,MAAM,GAAGD,cAAc;EAC9B;EAEAE,cAAc;IACZ,IAAI,IAAI,CAACD,MAAM,IAAI,IAAI,CAACE,OAAO,EAAE;MAC/BN,OAAO,CAACC,GAAG,CAAE,IAAI,CAACG,MAAM,EAAE,IAAI,CAACE,OAAO,CAAC;MACvC,MAAMC,UAAU,GAAG;QACjBH,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBE,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBP,UAAU,EAAE,IAAI,CAACA,UAAU;QAC3BS,WAAW,EAAE,IAAIC,IAAI;OACtB;MAED,IAAI,CAACf,iBAAiB,CAACW,cAAc,CAACE,UAAU,CAAC,CAACV,SAAS,CAACa,QAAQ,IAAG;QACrEV,OAAO,CAACC,GAAG,CAAC,iCAAiC,EAAES,QAAQ,CAAC;QAExD;QACA,IAAI,CAACN,MAAM,GAAG,CAAC;QACf,IAAI,CAACE,OAAO,GAAG,EAAE;MAEnB,CAAC,EAAEK,KAAK,IAAG;QACTX,OAAO,CAACW,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,CAAC;KACH,MAAM;MACLX,OAAO,CAACW,KAAK,CAAC,iCAAiC,CAAC;;EAEpD;EAAC;qBA5CUpB,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAqB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCV3BC,8BAAuB;QACjBA,6CAA6B;QAAAA,iBAAK;QAEtCA,yBAAG;QAAAA,gHAAsF;QAAAA,iBAAI;QAC7FA,8BAAoB;QACCA;UAAA,OAASC,SAAK,CAAC,CAAC;QAAA,EAAC;QAAsCD,sBAAC;QAAAA,iBAAO;QACtFA,+BAA0E;QAAvDA;UAAA,OAASC,SAAK,CAAC,CAAC;QAAA,EAAC;QAAsCD,sBAAC;QAAAA,iBAAO;QAClFA,gCAA0E;QAAvDA;UAAA,OAASC,SAAK,CAAC,CAAC;QAAA,EAAC;QAAsCD,uBAAC;QAAAA,iBAAO;QAClFA,gCAA0E;QAAvDA;UAAA,OAASC,SAAK,CAAC,CAAC;QAAA,EAAC;QAAsCD,uBAAC;QAAAA,iBAAO;QAClFA,gCAA0E;QAAvDA;UAAA,OAASC,SAAK,CAAC,CAAC;QAAA,EAAC;QAAsCD,uBAAC;QAAAA,iBAAO;QAGhFA,oCAAiG;QAAtBA;UAAA;QAAA,EAAqB;QAACA,iBAAW;QAC5GA,kCAAmC;QAA3BA;UAAA,OAASC,oBAAgB;QAAA,EAAC;QAACD,0BAAS;QAAAA,iBAAS;;;QARdA,eAAoC;QAApCA,qDAAoC;QACxCA,eAAoC;QAApCA,qDAAoC;QACpCA,eAAoC;QAApCA,qDAAoC;QACpCA,eAAoC;QAApCA,qDAAoC;QACpCA,eAAoC;QAApCA,qDAAoC;QAGIA,eAAqB;QAArBA,qCAAqB","names":["MerciComponent","constructor","route","avisClientService","ngOnInit","queryParams","subscribe","params","candidatId","console","log","rate","selectedRating","rating","submitFeedback","comment","avisClient","submittedAt","Date","response","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\Remerciement\\merci.component.ts","C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\Remerciement\\merci.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AvisClientService }  from '../Services/AvisClientService';\nimport { AvisClient }  from '../models/AvisClient';\n\n@Component({\n  selector: 'app-merci',\n  templateUrl: './merci.component.html',\n  styleUrls: ['./merci.component.css']\n})\nexport class MerciComponent {\n  \n  comment: string = '';\n  rating: number | undefined = 0;\n  candidatId!:number;\n  avisClient! :AvisClient;\n  constructor(private route: ActivatedRoute, private avisClientService: AvisClientService) { }\n  ngOnInit(): void {\n    // Récupérer le candidatId depuis les paramètres de l'URL\n    this.route.queryParams.subscribe(params => {\n      const candidatId = params['candidatId'];\n      this.candidatId=candidatId;\n      console.log('CandidatId récupéré dans MerciComponent:', candidatId);\n      // Utilisez le candidatId comme nécessaire dans votre composant\n    });\n  }\n  \n  rate(selectedRating: number) {\n    this.rating = selectedRating;\n  }\n  \n  submitFeedback() {\n    if (this.rating && this.comment) {\n      console.log (this.rating, this.comment);\n      const avisClient = {\n        rating: this.rating,\n        comment: this.comment,\n        candidatId: this.candidatId,\n        submittedAt: new Date()\n      };\n\n      this.avisClientService.submitFeedback(avisClient).subscribe(response => {\n        console.log('Feedback submitted successfully', response);\n\n        // Réinitialiser les valeurs après l'affichage\n        this.rating = 0;\n        this.comment = '';\n        \n      }, error => {\n        console.error('Error submitting feedback', error);\n      });\n    } else {\n      console.error('Rating and comment are required');\n    }\n  }\n}\n","<div class=\"container\">\n  <h2>Merci pour votre engagement !</h2>\n  \n  <p>Nous apprécions votre participation. Votre contribution est très importante pour nous.</p>\n  <div class=\"rating\">\n    <span class=\"star\" (click)=\"rate(1)\" [class.gold]=\"rating && rating >= 1\">★</span>\n<span class=\"star\" (click)=\"rate(2)\" [class.gold]=\"rating && rating >= 2\">★</span>\n<span class=\"star\" (click)=\"rate(3)\" [class.gold]=\"rating && rating >= 3\">★</span>\n<span class=\"star\" (click)=\"rate(4)\" [class.gold]=\"rating && rating >= 4\">★</span>\n<span class=\"star\" (click)=\"rate(5)\" [class.gold]=\"rating && rating >= 5\">★</span>\n\n  </div>\n  <textarea class=\"comment-textarea\" placeholder=\"Ajoutez un commentaire...\" [(ngModel)]=\"comment\"></textarea>\n  <button (click)=\"submitFeedback()\">Soumettre</button>\n <!-- <img src=\"https://img.freepik.com/vecteurs-libre/gars-intelligent-obtient-prix-gagnant-debout-piedestal-tenant-coupe-or-illustration-bande-dessinee_74855-14511.jpg\" alt=\"Image de remerciement\" width=\"600\" height=\"350\">\n--></div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}