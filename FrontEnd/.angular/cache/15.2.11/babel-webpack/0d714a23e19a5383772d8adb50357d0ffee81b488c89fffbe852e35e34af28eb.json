{"ast":null,"code":"import { CandidateSelectionDialogComponent } from '../candidate-selection-dialog/candidate-selection-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/QuizService\";\nimport * as i2 from \"@angular/material/snack-bar\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"@angular/common\";\nfunction ListeQuizComponent_tr_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 6)(15, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ListeQuizComponent_tr_22_Template_button_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const quiz_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.editQuiz(quiz_r1.quizId));\n    });\n    i0.ɵɵelement(16, \"i\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ListeQuizComponent_tr_22_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const quiz_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.deleteQuiz(quiz_r1.quizId));\n    });\n    i0.ɵɵelement(18, \"i\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ListeQuizComponent_tr_22_Template_button_click_19_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const quiz_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openCandidateSelectionDialog(quiz_r1.quizId));\n    });\n    i0.ɵɵelement(20, \"i\", 12);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const quiz_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r2 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(quiz_r1.titre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.getNiveauLabel(quiz_r1.niveauId), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(quiz_r1.dureeMinutes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(quiz_r1.description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 6, quiz_r1.dateCreation));\n  }\n}\nexport class ListeQuizComponent {\n  constructor(quizService, snackBar, router, dialog) {\n    this.quizService = quizService;\n    this.snackBar = snackBar;\n    this.router = router;\n    this.dialog = dialog;\n    this.quizzes = [];\n    this.niveaux = {\n      0: 'Débutant',\n      1: 'Intermédiaire',\n      2: 'Expert'\n    };\n  }\n  ngOnInit() {\n    this.quizService.getAllQuizzes().subscribe(data => {\n      this.quizzes = data;\n    }, error => {\n      console.error('Erreur lors de la récupération des quiz:', error);\n    });\n  }\n  editQuiz(quizId) {\n    this.router.navigate([`/editQuiz/${quizId}`]);\n  }\n  deleteQuiz(quizId) {\n    const snackBarRef = this.snackBar.open('Voulez-vous vraiment supprimer ce quiz?', 'Oui', {\n      duration: 5000,\n      panelClass: ['custom-snackbar'] // Classe CSS personnalisée pour le snackbar\n    });\n\n    snackBarRef.onAction().subscribe(() => {\n      const action = 'Oui'; // Ou tout autre texte de l'action du bouton \"Oui\"\n      if (action === 'Oui') {\n        this.quizService.deleteQuiz(quizId).subscribe(() => {\n          this.ngOnInit(); // Mettez à jour la liste des candidats après la suppression\n        });\n      }\n    });\n  }\n\n  openCandidateSelectionDialog(quizId) {\n    this.dialog.open(CandidateSelectionDialogComponent, {\n      data: {\n        quizId: quizId\n      }\n    });\n  }\n  getNiveauLabel(niveauId) {\n    return this.niveaux[niveauId] || 'Inconnu';\n  }\n  static #_ = this.ɵfac = function ListeQuizComponent_Factory(t) {\n    return new (t || ListeQuizComponent)(i0.ɵɵdirectiveInject(i1.QuizService), i0.ɵɵdirectiveInject(i2.MatSnackBar), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.MatDialog));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListeQuizComponent,\n    selectors: [[\"app-liste-quiz\"]],\n    decls: 26,\n    vars: 1,\n    consts: [[1, \"container\"], [1, \"table-container\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"add-quiz-button\"], [\"routerLink\", \"/tableauBord/genererQuiz\", 1, \"btnAjout\"], [1, \"actions\"], [1, \"modifier\", 3, \"click\"], [1, \"fas\", \"fa-edit\"], [1, \"supprimer\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\"], [3, \"click\"], [1, \"fas\", \"fa-envelope\"]],\n    template: function ListeQuizComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n        i0.ɵɵtext(2, \"Liste des Quiz\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"table\", 2)(5, \"thead\")(6, \"tr\")(7, \"th\");\n        i0.ɵɵtext(8, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"th\");\n        i0.ɵɵtext(10, \"Titre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"th\");\n        i0.ɵɵtext(12, \"Niveau\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"th\");\n        i0.ɵɵtext(14, \"Dur\\u00E9e (minutes)\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\");\n        i0.ɵɵtext(16, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\");\n        i0.ɵɵtext(18, \"Date de cr\\u00E9ation\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"th\");\n        i0.ɵɵtext(20, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"tbody\");\n        i0.ɵɵtemplate(22, ListeQuizComponent_tr_22_Template, 21, 8, \"tr\", 3);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 4)(24, \"a\", 5);\n        i0.ɵɵtext(25, \"G\\u00E9nerer un quiz\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"ngForOf\", ctx.quizzes);\n      }\n    },\n    dependencies: [i5.NgForOf, i3.RouterLink, i5.DatePipe],\n    styles: [\".container[_ngcontent-%COMP%] {\\r\\n  max-width: 100%;\\r\\n  margin: 20px auto;\\r\\n  padding: 20px;\\r\\n  background-color: #fff;\\r\\n  border-radius: 10px;\\r\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n  margin: 0 auto;\\r\\n  overflow-x: auto;\\r\\n  \\r\\n}\\r\\n\\r\\nh1[_ngcontent-%COMP%] {\\r\\n  text-align: center;\\r\\n  color: #1b2552;\\r\\n  margin-bottom: 10px;\\r\\n  margin-top: -20px;\\r\\n}\\r\\n\\r\\n.table-container[_ngcontent-%COMP%] {\\r\\n  overflow-x: auto;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-collapse: collapse;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n  padding: 12px;\\r\\n  text-align: left;\\r\\n  border-bottom: 1px solid #ddd;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n  background-color: #f2f2f2;\\r\\n  font-weight: bold;\\r\\n}\\r\\n\\r\\n.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #f2f2f2;\\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  gap: 5px; \\r\\n}\\r\\n\\r\\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n  padding: 8px 16px;\\r\\n  cursor: pointer;\\r\\n  border: none;\\r\\n  border-radius: 5px;\\r\\n  flex: none; \\r\\n  box-sizing: border-box; \\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.actions[_ngcontent-%COMP%]   button.modifier[_ngcontent-%COMP%] {\\r\\n  background-color: #2c6db9; \\r\\n  color: white;\\r\\n}\\r\\n\\r\\n\\r\\n.actions[_ngcontent-%COMP%]   button.supprimer[_ngcontent-%COMP%] {\\r\\n  background-color: #ffcc00; \\r\\n  color: black;\\r\\n}\\r\\n\\r\\n\\r\\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\r\\n  opacity: 0.8; \\r\\n}\\r\\n\\r\\n\\r\\n.add-quiz-button[_ngcontent-%COMP%] {\\r\\n  text-align: center; \\r\\n  margin-top: 20px; \\r\\n}\\r\\n\\r\\n.add-quiz-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n  display: inline-block;\\r\\n  padding: 10px 20px;\\r\\n  background-color: #2c6db9; \\r\\n  color: white;\\r\\n  text-decoration: none;\\r\\n  border-radius: 5px;\\r\\n  transition: background-color 0.3s ease; \\r\\n}\\r\\n\\r\\n.add-quiz-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #3f7ec5; \\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvUXVpei9saXN0ZS1xdWl6L2xpc3RlLXF1aXouY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixtQkFBbUI7RUFDbkIsdUNBQXVDO0FBQ3pDOztBQUVBO0VBQ0UsY0FBYztFQUNkLGdCQUFnQjtFQUNoQix5REFBeUQ7QUFDM0Q7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsY0FBYztFQUNkLG1CQUFtQjtFQUNuQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLG1CQUFtQjtBQUNyQjs7QUFFQTs7RUFFRSxhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsUUFBUSxFQUFFLGlDQUFpQztBQUM3Qzs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixVQUFVLEVBQUUscURBQXFEO0VBQ2pFLHNCQUFzQixFQUFFLGtFQUFrRTtBQUM1Rjs7O0FBR0Esa0NBQWtDO0FBQ2xDO0VBQ0UseUJBQXlCLEVBQUUsU0FBUztFQUNwQyxZQUFZO0FBQ2Q7O0FBRUEsbUNBQW1DO0FBQ25DO0VBQ0UseUJBQXlCLEVBQUUsVUFBVTtFQUNyQyxZQUFZO0FBQ2Q7O0FBRUEsb0NBQW9DO0FBQ3BDO0VBQ0UsWUFBWSxFQUFFLGdDQUFnQztBQUNoRDs7QUFFQSxpQ0FBaUM7QUFDakM7RUFDRSxrQkFBa0IsRUFBRSxzQkFBc0I7RUFDMUMsZ0JBQWdCLEVBQUUsZ0RBQWdEO0FBQ3BFOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQix5QkFBeUIsRUFBRSxrQkFBa0I7RUFDN0MsWUFBWTtFQUNaLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsc0NBQXNDLEVBQUUsNENBQTRDO0FBQ3RGOztBQUVBO0VBQ0UseUJBQXlCLEVBQUUsbURBQW1EO0FBQ2hGIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgbWF4LXdpZHRoOiAxMDAlO1xyXG4gIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gIGJveC1zaGFkb3c6IDAgMCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4zKTtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgb3ZlcmZsb3cteDogYXV0bztcclxuICAvKiAgIHBvc2l0aW9uOiByZWxhdGl2ZTtDZW50cmUgbGEgdGFibGUgaG9yaXpvbnRhbGVtZW50ICovXHJcbn1cclxuXHJcbmgxIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgY29sb3I6ICMxYjI1NTI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICBtYXJnaW4tdG9wOiAtMjBweDtcclxufVxyXG5cclxuLnRhYmxlLWNvbnRhaW5lciB7XHJcbiAgb3ZlcmZsb3cteDogYXV0bztcclxufVxyXG5cclxuLnRhYmxlIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi50YWJsZSB0aCxcclxuLnRhYmxlIHRkIHtcclxuICBwYWRkaW5nOiAxMnB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XHJcbn1cclxuXHJcbi50YWJsZSB0aCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcclxuICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG5cclxuLnRhYmxlIHRib2R5IHRyOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG59XHJcblxyXG4uYWN0aW9ucyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBnYXA6IDVweDsgLyogRXNwYWNlbWVudCBlbnRyZSBsZXMgYm91dG9ucyAqL1xyXG59XHJcblxyXG4uYWN0aW9ucyBidXR0b24ge1xyXG4gIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGZsZXg6IG5vbmU7IC8qIEFzc3VyZSBxdWUgbGVzIGJvdXRvbnMgbmUgY2hhbmdlbnQgcGFzIGRlIHRhaWxsZSAqL1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7IC8qIEluY2x1cmUgbGUgcGFkZGluZyBldCBsYSBib3JkdXJlIGRhbnMgbGUgY2FsY3VsIGRlIGxhIGxhcmdldXIgKi9cclxufVxyXG5cclxuXHJcbi8qIFN0eWxlIHBvdXIgbGUgYm91dG9uIE1vZGlmaWVyICovXHJcbi5hY3Rpb25zIGJ1dHRvbi5tb2RpZmllciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJjNmRiOTsgLyogQmxldSAqL1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLyogU3R5bGUgcG91ciBsZSBib3V0b24gU3VwcHJpbWVyICovXHJcbi5hY3Rpb25zIGJ1dHRvbi5zdXBwcmltZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmNjMDA7IC8qIEphdW5lICovXHJcbiAgY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG4vKiBDaGFuZ2VtZW50IGRlIGNvdWxldXIgYXUgc3Vydm9sICovXHJcbi5hY3Rpb25zIGJ1dHRvbjpob3ZlciB7XHJcbiAgb3BhY2l0eTogMC44OyAvKiBSw4PCqWR1aXJlIGwnb3BhY2l0w4PCqSBhdSBzdXJ2b2wgKi9cclxufVxyXG5cclxuLyogU3R5bGUgcG91ciBsZSBib3V0b24gQWpvdXRlciAqL1xyXG4uYWRkLXF1aXotYnV0dG9uIHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7IC8qIENlbnRyZXIgbGUgYm91dG9uICovXHJcbiAgbWFyZ2luLXRvcDogMjBweDsgLyogTWFyZ2UgZW4gaGF1dCBwb3VyIGwnw4PCqWxvaWduZXIgZHUgZm9ybXVsYWlyZSAqL1xyXG59XHJcblxyXG4uYWRkLXF1aXotYnV0dG9uIGEge1xyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzJjNmRiOTsgLyogQ291bGV1ciB2ZXJ0ZSAqL1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlOyAvKiBUcmFuc2l0aW9uIGZsdWlkZSBkZSBsYSBjb3VsZXVyIGRlIGZvbmQgKi9cclxufVxyXG5cclxuLmFkZC1xdWl6LWJ1dHRvbiBhOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM2Y3ZWM1OyAvKiBDb3VsZXVyIHZlcnRlIGzDg8KpZ8ODwqhyZW1lbnQgcGx1cyBmb25jw4PCqWUgYXUgc3Vydm9sICovXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["CandidateSelectionDialogComponent","i0","ListeQuizComponent","constructor","quizService","snackBar","router","dialog","ngOnInit","getAllQuizzes","subscribe","data","quizzes","error","console","editQuiz","quizId","navigate","deleteQuiz","snackBarRef","open","duration","panelClass","onAction","action","openCandidateSelectionDialog","getNiveauLabel","niveauId","niveaux","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\Quiz\\liste-quiz\\liste-quiz.component.ts","C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\Quiz\\liste-quiz\\liste-quiz.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router } from '@angular/router';\nimport { QuizService } from 'src/app/Services/QuizService';\nimport { Quiz } from 'src/app/models/Quiz';\nimport { CandidateSelectionDialogComponent } from '../candidate-selection-dialog/candidate-selection-dialog.component';\nimport { MatDialog } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-liste-quiz',\n  templateUrl: './liste-quiz.component.html',\n  styleUrls: ['./liste-quiz.component.css']\n})\nexport class ListeQuizComponent implements OnInit {\n\n  quizzes: Quiz[] = [];\n  niveaux: { [key: number]: string } = {\n    0: 'Débutant',\n    1: 'Intermédiaire',\n    2: 'Expert'\n  };\n  constructor(\n    private quizService: QuizService,\n    private snackBar: MatSnackBar,\n    private router: Router,\n   private dialog: MatDialog\n  ) {}\n\n  ngOnInit(): void {\n    this.quizService.getAllQuizzes().subscribe(\n      (data: Quiz[]) => {\n        this.quizzes = data;\n      },\n      error => {\n        console.error('Erreur lors de la récupération des quiz:', error);\n      }\n    );\n  }\n\n  editQuiz(quizId: number): void {\n    this.router.navigate([`/editQuiz/${quizId}`]);\n  }\n\n  deleteQuiz(quizId: number): void {\n    const snackBarRef = this.snackBar.open('Voulez-vous vraiment supprimer ce quiz?', 'Oui', {\n      duration: 5000, // Durée d'affichage du snackbar en millisecondes\n      panelClass: ['custom-snackbar'] // Classe CSS personnalisée pour le snackbar\n    });\n    \n    snackBarRef.onAction().subscribe(() => {\n      const action = 'Oui'; // Ou tout autre texte de l'action du bouton \"Oui\"\n      if (action === 'Oui') {\n        this.quizService.deleteQuiz(quizId).subscribe(() => {\n          this.ngOnInit(); // Mettez à jour la liste des candidats après la suppression\n        });\n      }\n    });\n    \n  }\n  openCandidateSelectionDialog(quizId: number): void {\n    this.dialog.open(CandidateSelectionDialogComponent, {\n      data: { quizId: quizId }\n    });\n  }\n\n  getNiveauLabel(niveauId: number): string {\n    return this.niveaux[niveauId] || 'Inconnu';\n  }\n}\n\n","<div class=\"container\">\n   \n    <!-- Flèche pour revenir en arrière -->\n    <h1>Liste des Quiz</h1>\n    <div class=\"table-container\">\n        <table class=\"table\">\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>Titre</th>\n          <th>Niveau</th>\n          <th>Durée (minutes)</th>\n          <th>Description</th>\n          <th>Date de création</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let quiz of quizzes; let i = index\" >\n          \n          <td>{{ i+1 }}</td>\n          <td>{{ quiz.titre }}</td>\n          <td>{{ getNiveauLabel(quiz.niveauId) }}   </td>       \n          <td>{{ quiz.dureeMinutes }}</td>\n          <td>{{ quiz.description }}</td>\n          <td>{{ quiz.dateCreation |date }}</td>\n          <td class=\"actions\">\n            <button class=\"modifier\" (click)=\"editQuiz(quiz.quizId)\"><i class=\"fas fa-edit\"></i> </button>\n            <button class=\"supprimer\" (click)=\"deleteQuiz(quiz.quizId)\"><i class=\"fas fa-trash-alt\"></i></button>\n            <button (click)=\"openCandidateSelectionDialog(quiz.quizId)\"><i class=\"fas fa-envelope\"></i></button>\n          </td>\n        </tr>\n      </tbody>\n        </table>\n    </div>\n    <div class=\"add-quiz-button\">\n        <a routerLink=\"/tableauBord/genererQuiz\" class=\"btnAjout\">Génerer un quiz</a>\n    </div>\n  </div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}