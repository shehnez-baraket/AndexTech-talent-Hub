{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/Services/CandidatService\";\nimport * as i3 from \"src/app/Services/ReponseService\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/common\";\nfunction ListQuizParCandidatComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 4)(6, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ListQuizParCandidatComponent_tr_13_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const quiz_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.voirActivite(quiz_r1.quizId));\n    });\n    i0.ɵɵtext(7, \"Activit\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ListQuizParCandidatComponent_tr_13_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const quiz_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.voirReponse(quiz_r1.quizId));\n    });\n    i0.ɵɵtext(9, \"R\\u00E9ponses\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const quiz_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(quiz_r1.titre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(quiz_r1.description);\n  }\n}\nexport class ListQuizParCandidatComponent {\n  constructor(dialogRef, data, candidatService, reponseService) {\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.candidatService = candidatService;\n    this.reponseService = reponseService;\n    // Assigner les valeurs de candidatId et quizId à partir des données passées\n    this.candidatId = data.candidatId;\n    this.quizId = data.quizId;\n  }\n  ngOnInit() {\n    // Vérifier si candidatId et quizId sont définis\n    if (this.candidatId && this.quizId) {\n      this.candidatService.getCandidatQuizDetails(this.candidatId, this.quizId).subscribe(data => {\n        this.candidatDetails = data;\n      });\n    }\n  }\n  closeDialog() {\n    this.dialogRef.close();\n  }\n  voirReponse(quizId) {\n    console.log(quizId);\n    this.reponseService.ReponseCandidatQuiz(this.candidatId, quizId).subscribe(blob => {\n      // Créer un objet URL pour le blob\n      const url = window.URL.createObjectURL(blob);\n      // Créer un lien pour le téléchargement\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `rapport_reponses.pdf`;\n      // Ajouter le lien à la page et cliquer dessus pour déclencher le téléchargement\n      document.body.appendChild(link);\n      link.click();\n      // Nettoyer l'URL de l'objet\n      window.URL.revokeObjectURL(url);\n    });\n  }\n  voirActivite(quizid) {\n    console.log(quizid);\n    this.reponseService.ActiviteCandidatQuiz(this.candidatId, quizid).subscribe(blob => {\n      // Créer un objet URL pour le blob\n      const url = window.URL.createObjectURL(blob);\n      // Créer un lien pour le téléchargement\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `rapport_activites.pdf`;\n      // Ajouter le lien à la page et cliquer dessus pour déclencher le téléchargement\n      document.body.appendChild(link);\n      link.click();\n      // Nettoyer l'URL de l'objet\n      window.URL.revokeObjectURL(url);\n    });\n  }\n  static #_ = this.ɵfac = function ListQuizParCandidatComponent_Factory(t) {\n    return new (t || ListQuizParCandidatComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.CandidatService), i0.ɵɵdirectiveInject(i3.ReponseService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ListQuizParCandidatComponent,\n    selectors: [[\"app-list-quiz-par-candidat\"]],\n    decls: 16,\n    vars: 3,\n    consts: [[1, \"table-container\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-button\", \"\", 3, \"click\"], [1, \"actions\"]],\n    template: function ListQuizParCandidatComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\");\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 0)(3, \"table\", 1)(4, \"thead\")(5, \"tr\")(6, \"th\");\n        i0.ɵɵtext(7, \"Titre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\");\n        i0.ɵɵtext(9, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Actions\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(12, \"tbody\");\n        i0.ɵɵtemplate(13, ListQuizParCandidatComponent_tr_13_Template, 10, 2, \"tr\", 2);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(14, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function ListQuizParCandidatComponent_Template_button_click_14_listener() {\n          return ctx.closeDialog();\n        });\n        i0.ɵɵtext(15, \"Fermer\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate2(\"Quizzes pass\\u00E9s par \", ctx.data.candidat.nom, \" \", ctx.data.candidat.prenom, \"\");\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngForOf\", ctx.data.quizzes);\n      }\n    },\n    dependencies: [i4.MatButton, i5.NgForOf],\n    styles: [\".table-container[_ngcontent-%COMP%] {\\r\\n    max-width: 100%;\\r\\n    margin: 20px auto;\\r\\n    padding: 20px;\\r\\n    background-color: #fff;\\r\\n    border-radius: 10px;\\r\\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\\r\\n    overflow: auto; \\r\\n  max-height: 500px;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  .table[_ngcontent-%COMP%] {\\r\\n    width: 100%;\\r\\n    border-collapse: collapse;\\r\\n    align-items: center;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\r\\n    padding: 12px;\\r\\n    text-align: left;\\r\\n    border-bottom: 1px solid #ddd;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\r\\n    background-color: #f2f2f2;\\r\\n    font-weight: bold;\\r\\n  }\\r\\n  \\r\\n  .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #f2f2f2;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\r\\n    padding: 8px 16px;\\r\\n    margin-right: 5px;\\r\\n    cursor: pointer;\\r\\n    border: none;\\r\\n    border-radius: 5px;\\r\\n  }\\r\\n  \\r\\n  .actions[_ngcontent-%COMP%]   button.mat-button[_ngcontent-%COMP%] {\\r\\n    background-color: #2c6db9;\\r\\n    color: white;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\r\\n    opacity: 0.8;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  button.mat-button[_ngcontent-%COMP%] {\\r\\n    background-color: #2c6db9;\\r\\n    color: white;\\r\\n    border: none;\\r\\n    border-radius: 5px;\\r\\n    padding: 10px 20px;\\r\\n    margin-top: 20px;\\r\\n    cursor: pointer;\\r\\n    transition: background-color 0.3s ease;\\r\\n  }\\r\\n  \\r\\n  button.mat-button[_ngcontent-%COMP%]:hover {\\r\\n    background-color: #3f7ec5;\\r\\n  }\\r\\n  \\r\\n  \\r\\n  h2[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    color: #1b2552;\\r\\n    margin-bottom: 10px;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ2FuZGlkYXQvbGlzdC1xdWl6LXBhci1jYW5kaWRhdC9saXN0LXF1aXotcGFyLWNhbmRpZGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsa0NBQWtDOztBQUVsQyx1Q0FBdUM7QUFDdkM7SUFDSSxlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLHVDQUF1QztJQUN2QyxjQUFjLEVBQUUseUJBQXlCO0VBQzNDLGlCQUFpQjtFQUNqQjs7RUFFQSwwQkFBMEI7RUFDMUI7SUFDRSxXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLG1CQUFtQjtFQUNyQjs7RUFFQTs7SUFFRSxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCLDZCQUE2QjtFQUMvQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUEscUNBQXFDO0VBQ3JDO0lBQ0UsaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQixlQUFlO0lBQ2YsWUFBWTtJQUNaLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0VBQ2Q7O0VBRUEsb0NBQW9DO0VBQ3BDO0lBQ0UsWUFBWTtFQUNkOztFQUVBLG1DQUFtQztFQUNuQztJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLGVBQWU7SUFDZixzQ0FBc0M7RUFDeEM7O0VBRUE7SUFDRSx5QkFBeUI7RUFDM0I7O0VBRUEsc0JBQXNCO0VBQ3RCO0lBQ0Usa0JBQWtCO0lBQ2xCLGNBQWM7SUFDZCxtQkFBbUI7RUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBmZWVkYmFjay1kaWFsb2cuY29tcG9uZW50LmNzcyAqL1xyXG5cclxuLyogU3R5bGUgcG91ciBsZSBjb250ZW5ldXIgZHUgdGFibGVhdSAqL1xyXG4udGFibGUtY29udGFpbmVyIHtcclxuICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgIG1hcmdpbjogMjBweCBhdXRvO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xyXG4gICAgb3ZlcmZsb3c6IGF1dG87IC8qIFBlcm1ldCBsZSBkw4PCqWZpbGVtZW50ICovXHJcbiAgbWF4LWhlaWdodDogNTAwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIC8qIFN0eWxlIHBvdXIgbGUgdGFibGVhdSAqL1xyXG4gIC50YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIH1cclxuICBcclxuICAudGFibGUgdGgsXHJcbiAgLnRhYmxlIHRkIHtcclxuICAgIHBhZGRpbmc6IDEycHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkZGQ7XHJcbiAgfVxyXG4gIFxyXG4gIC50YWJsZSB0aCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgfVxyXG4gIFxyXG4gIC50YWJsZSB0Ym9keSB0cjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyO1xyXG4gIH1cclxuICBcclxuICAvKiBTdHlsZXMgcG91ciBsZXMgYm91dG9ucyBkJ2FjdGlvbiAqL1xyXG4gIC5hY3Rpb25zIGJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiA4cHggMTZweDtcclxuICAgIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIH1cclxuICBcclxuICAuYWN0aW9ucyBidXR0b24ubWF0LWJ1dHRvbiB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmM2ZGI5O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gIH1cclxuICBcclxuICAvKiBDaGFuZ2VtZW50IGRlIGNvdWxldXIgYXUgc3Vydm9sICovXHJcbiAgLmFjdGlvbnMgYnV0dG9uOmhvdmVyIHtcclxuICAgIG9wYWNpdHk6IDAuODtcclxuICB9XHJcbiAgXHJcbiAgLyogQm91dG9uIHBvdXIgZmVybWVyIGxlIGRpYWxvZ3VlICovXHJcbiAgYnV0dG9uLm1hdC1idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJjNmRiOTtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIG1hcmdpbi10b3A6IDIwcHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuM3MgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgYnV0dG9uLm1hdC1idXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzNmN2VjNTtcclxuICB9XHJcbiAgXHJcbiAgLyogVGl0cmUgZHUgZGlhbG9ndWUgKi9cclxuICBoMiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogIzFiMjU1MjtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgfVxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["MAT_DIALOG_DATA","i0","ListQuizParCandidatComponent","constructor","dialogRef","data","candidatService","reponseService","candidatId","quizId","ngOnInit","getCandidatQuizDetails","subscribe","candidatDetails","closeDialog","close","voirReponse","console","log","ReponseCandidatQuiz","blob","url","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","revokeObjectURL","voirActivite","quizid","ActiviteCandidatQuiz","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\Candidat\\list-quiz-par-candidat\\list-quiz-par-candidat.component.ts","C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\Candidat\\list-quiz-par-candidat\\list-quiz-par-candidat.component.html"],"sourcesContent":["import { Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { CandidatService } from 'src/app/Services/CandidatService';\nimport { ReponseService } from 'src/app/Services/ReponseService';\n\n@Component({\n  selector: 'app-list-quiz-par-candidat',\n  templateUrl: './list-quiz-par-candidat.component.html',\n  styleUrls: ['./list-quiz-par-candidat.component.css']\n})\nexport class ListQuizParCandidatComponent implements OnInit {\n  candidatId: number;\n  quizId: number;\n  candidatDetails: any;\n\n  constructor(\n    public dialogRef: MatDialogRef<ListQuizParCandidatComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private candidatService: CandidatService,\n    private reponseService: ReponseService\n  ) {\n    // Assigner les valeurs de candidatId et quizId à partir des données passées\n    this.candidatId = data.candidatId;\n    this.quizId = data.quizId;\n  }\n\n  ngOnInit(): void {\n    // Vérifier si candidatId et quizId sont définis\n    if (this.candidatId && this.quizId) {\n      this.candidatService.getCandidatQuizDetails(this.candidatId, this.quizId).subscribe(data => {\n        this.candidatDetails = data;\n      });\n    }\n  }\n\n  closeDialog(): void {\n    this.dialogRef.close();\n  }\n\n  voirReponse(quizId: number): void {\n    console.log(quizId);\n    this.reponseService.ReponseCandidatQuiz(this.candidatId, quizId).subscribe((blob: Blob) => {\n      // Créer un objet URL pour le blob\n      const url = window.URL.createObjectURL(blob);\n\n      // Créer un lien pour le téléchargement\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `rapport_reponses.pdf`;\n\n      // Ajouter le lien à la page et cliquer dessus pour déclencher le téléchargement\n      document.body.appendChild(link);\n      link.click();\n\n      // Nettoyer l'URL de l'objet\n      window.URL.revokeObjectURL(url);\n    });\n  }\n\n\n  voirActivite(quizid: number) {\n    console.log(quizid);\n    this.reponseService.ActiviteCandidatQuiz(this.candidatId, quizid).subscribe((blob: Blob) => {\n      // Créer un objet URL pour le blob\n      const url = window.URL.createObjectURL(blob);\n\n      // Créer un lien pour le téléchargement\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `rapport_activites.pdf`;\n\n      // Ajouter le lien à la page et cliquer dessus pour déclencher le téléchargement\n      document.body.appendChild(link);\n      link.click();\n\n      // Nettoyer l'URL de l'objet\n      window.URL.revokeObjectURL(url);\n    });\n  }\n}\n","<!-- feedback-dialog.component.html -->\n<h2>Quizzes passés par {{ data.candidat.nom }} {{ data.candidat.prenom }}</h2>\n<div class=\"table-container\">\n  <table class=\"table\">\n    <thead>\n      <tr>\n        <th>Titre</th>\n        <th>Description</th>\n        <th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let quiz of data.quizzes\">\n        <td>{{ quiz.titre }}</td>\n        <td>{{ quiz.description }}</td>\n        <td class=\"actions\">\n          <button mat-button (click)=\"voirActivite(quiz.quizId)\">Activité</button>\n          <button mat-button (click)=\"voirReponse(quiz.quizId)\">Réponses</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<button mat-button (click)=\"closeDialog()\">Fermer</button>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}