{"ast":null,"code":"import { ScaleType } from '@swimlane/ngx-charts';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../Services/CandidatService\";\nimport * as i2 from \"../Services/QuestionService\";\nimport * as i3 from \"../Services/Questionnaire\";\nimport * as i4 from \"../Services/QuizService\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@swimlane/ngx-charts\";\nexport class StatistiquesComponent {\n  constructor(candidatService, questionService, questionnaireService, quizService) {\n    this.candidatService = candidatService;\n    this.questionService = questionService;\n    this.questionnaireService = questionnaireService;\n    this.quizService = quizService;\n    this.view = [350, 250]; // Taille des graphiques\n    // options\n    this.showXAxis = true;\n    this.showYAxis = true;\n    this.gradient = false;\n    this.showLegend = true;\n    this.showXAxisLabel = true;\n    this.xAxisLabel = 'Niveau';\n    this.showYAxisLabel = true;\n    this.yAxisLabel = 'Nombre de candidats';\n    this.colorScheme = {\n      name: 'custom',\n      selectable: true,\n      group: ScaleType.Ordinal,\n      domain: ['#0000FF', '#FFFF00', '#808080'] // Bleu, Jaune, Gris\n    };\n    // Initialisation des données\n    this.barChartData = [{\n      \"name\": \"Niveau 1\",\n      \"value\": 12\n    }, {\n      \"name\": \"Niveau 2\",\n      \"value\": 19\n    }, {\n      \"name\": \"Niveau 3\",\n      \"value\": 3\n    }];\n    this.pieChartData = [{\n      \"name\": \"Score 1\",\n      \"value\": 10\n    }, {\n      \"name\": \"Score 2\",\n      \"value\": 20\n    }, {\n      \"name\": \"Score 3\",\n      \"value\": 30\n    }];\n    this.lineChartData = [{\n      \"name\": \"Niveau 1\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 10\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 20\n      }]\n    }, {\n      \"name\": \"Niveau 2\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 30\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 25\n      }]\n    }];\n    this.areaChartData = [{\n      \"name\": \"Niveau 1\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 5\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 15\n      }]\n    }, {\n      \"name\": \"Niveau 2\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 10\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 30\n      }]\n    }];\n  }\n  ngOnInit() {\n    this.loadChartData();\n  }\n  loadChartData() {\n    this.candidatService.getTotalCandidatsCount().subscribe(count => {\n      this.totalCandidatsCount = count;\n      this.updateBarChartData();\n    });\n    this.questionService.getTotalQuestionCount().subscribe(count => {\n      this.totalQuestionsCount = count;\n      this.updatePieChartData();\n    });\n    this.questionnaireService.getTotalQuestionnaireCount().subscribe(count => {\n      this.totalQuestionnairesCount = count;\n      this.updateLineChartData();\n    });\n    this.quizService.getTotalQuizCount().subscribe(count => {\n      this.totalQuizzesCount = count;\n      this.updateAreaChartData();\n    });\n  }\n  updateBarChartData() {\n    // Mettre à jour barChartData avec les nouvelles valeurs\n    this.barChartData = [{\n      \"name\": \"Total Candidats\",\n      \"value\": this.totalCandidatsCount\n    }, {\n      \"name\": \"Niveau 1\",\n      \"value\": 12\n    }, {\n      \"name\": \"Niveau 2\",\n      \"value\": 19\n    }, {\n      \"name\": \"Niveau 3\",\n      \"value\": 3\n    }];\n  }\n  updatePieChartData() {\n    // Mettre à jour pieChartData avec les nouvelles valeurs\n    this.pieChartData = [{\n      \"name\": \"Total Questions\",\n      \"value\": this.totalQuestionsCount\n    }, {\n      \"name\": \"Score 1\",\n      \"value\": 10\n    }, {\n      \"name\": \"Score 2\",\n      \"value\": 20\n    }, {\n      \"name\": \"Score 3\",\n      \"value\": 30\n    }];\n  }\n  updateLineChartData() {\n    // Mettre à jour lineChartData avec les nouvelles valeurs\n    this.lineChartData = [{\n      \"name\": \"Total Questionnaires\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": this.totalQuestionnairesCount\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 20\n      }]\n    }, {\n      \"name\": \"Niveau 1\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 10\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 20\n      }]\n    }, {\n      \"name\": \"Niveau 2\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 30\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 25\n      }]\n    }];\n  }\n  updateAreaChartData() {\n    // Mettre à jour areaChartData avec les nouvelles valeurs\n    this.areaChartData = [{\n      \"name\": \"Total Quizzes\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": this.totalQuizzesCount\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 15\n      }]\n    }, {\n      \"name\": \"Niveau 1\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 5\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 15\n      }]\n    }, {\n      \"name\": \"Niveau 2\",\n      \"series\": [{\n        \"name\": \"Jan\",\n        \"value\": 10\n      }, {\n        \"name\": \"Feb\",\n        \"value\": 30\n      }]\n    }];\n  }\n  static #_ = this.ɵfac = function StatistiquesComponent_Factory(t) {\n    return new (t || StatistiquesComponent)(i0.ɵɵdirectiveInject(i1.CandidatService), i0.ɵɵdirectiveInject(i2.QuestionService), i0.ɵɵdirectiveInject(i3.QuestionnaireService), i0.ɵɵdirectiveInject(i4.QuizService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: StatistiquesComponent,\n    selectors: [[\"app-statistiques\"]],\n    decls: 21,\n    vars: 31,\n    consts: [[1, \"statistics-container\"], [3, \"view\", \"results\", \"gradient\", \"xAxis\", \"yAxis\", \"legend\", \"showXAxisLabel\", \"showYAxisLabel\", \"xAxisLabel\", \"yAxisLabel\", \"scheme\"], [3, \"view\", \"results\", \"legend\", \"scheme\"], [3, \"view\", \"results\", \"legend\", \"xAxis\", \"yAxis\", \"xAxisLabel\", \"yAxisLabel\", \"scheme\"]],\n    template: function StatistiquesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\")(2, \"mat-card-title\");\n        i0.ɵɵtext(3, \"Nombre de Candidats par Niveau\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"mat-card-content\");\n        i0.ɵɵelement(5, \"ngx-charts-bar-vertical\", 1);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"mat-card\")(7, \"mat-card-title\");\n        i0.ɵɵtext(8, \"R\\u00E9partition des Scores\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-card-content\");\n        i0.ɵɵelement(10, \"ngx-charts-pie-chart\", 2);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"mat-card\")(12, \"mat-card-title\");\n        i0.ɵɵtext(13, \"\\u00C9volution des Scores\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"mat-card-content\");\n        i0.ɵɵelement(15, \"ngx-charts-line-chart\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"mat-card\")(17, \"mat-card-title\");\n        i0.ɵɵtext(18, \"\\u00C9volution des Candidats par Niveau\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"mat-card-content\");\n        i0.ɵɵelement(20, \"ngx-charts-area-chart\", 3);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"view\", ctx.view)(\"results\", ctx.barChartData)(\"gradient\", ctx.gradient)(\"xAxis\", ctx.showXAxis)(\"yAxis\", ctx.showYAxis)(\"legend\", ctx.showLegend)(\"showXAxisLabel\", ctx.showXAxisLabel)(\"showYAxisLabel\", ctx.showYAxisLabel)(\"xAxisLabel\", ctx.xAxisLabel)(\"yAxisLabel\", ctx.yAxisLabel)(\"scheme\", ctx.colorScheme);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"view\", ctx.view)(\"results\", ctx.pieChartData)(\"legend\", ctx.showLegend)(\"scheme\", ctx.colorScheme);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"view\", ctx.view)(\"results\", ctx.lineChartData)(\"legend\", ctx.showLegend)(\"xAxis\", ctx.showXAxis)(\"yAxis\", ctx.showYAxis)(\"xAxisLabel\", ctx.xAxisLabel)(\"yAxisLabel\", ctx.yAxisLabel)(\"scheme\", ctx.colorScheme);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"view\", ctx.view)(\"results\", ctx.areaChartData)(\"legend\", ctx.showLegend)(\"xAxis\", ctx.showXAxis)(\"yAxis\", ctx.showYAxis)(\"xAxisLabel\", ctx.xAxisLabel)(\"yAxisLabel\", ctx.yAxisLabel)(\"scheme\", ctx.colorScheme);\n      }\n    },\n    dependencies: [i5.MatCard, i5.MatCardContent, i5.MatCardTitle, i6.AreaChartComponent, i6.BarVerticalComponent, i6.LineChartComponent, i6.PieChartComponent],\n    styles: [\".statistics-container[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-wrap: wrap;\\r\\n  justify-content: space-around;\\r\\n}\\r\\n\\r\\nmat-card[_ngcontent-%COMP%] {\\r\\n  width: 45%;\\r\\n  margin: 10px;\\r\\n}\\r\\n\\r\\ncanvas[_ngcontent-%COMP%] {\\r\\n  width: 100% !important;\\r\\n  height: 250px !important;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc3RhdGlzdGlxdWVzL3N0YXRpc3RpcXVlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLGVBQWU7RUFDZiw2QkFBNkI7QUFDL0I7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsWUFBWTtBQUNkOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLHdCQUF3QjtBQUMxQiIsInNvdXJjZXNDb250ZW50IjpbIi5zdGF0aXN0aWNzLWNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbn1cclxuXHJcbm1hdC1jYXJkIHtcclxuICB3aWR0aDogNDUlO1xyXG4gIG1hcmdpbjogMTBweDtcclxufVxyXG5cclxuY2FudmFzIHtcclxuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xyXG4gIGhlaWdodDogMjUwcHggIWltcG9ydGFudDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":"AAOA,SAASA,SAAS,QAAe,sBAAsB;;;;;;;;AAOvD,OAAM,MAAOC,qBAAqB;EA6BhCC,YAAoBC,eAAgC,EAC1CC,eAAgC,EAChCC,oBAA0C,EAC1CC,WAAwB;IAHd,oBAAe,GAAfH,eAAe;IACzB,oBAAe,GAAfC,eAAe;IACf,yBAAoB,GAApBC,oBAAoB;IACpB,gBAAW,GAAXC,WAAW;IAtBrB,SAAI,GAAqB,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;IAErC;IACA,cAAS,GAAY,IAAI;IACzB,cAAS,GAAY,IAAI;IACzB,aAAQ,GAAY,KAAK;IACzB,eAAU,GAAY,IAAI;IAC1B,mBAAc,GAAY,IAAI;IAC9B,eAAU,GAAW,QAAQ;IAC7B,mBAAc,GAAY,IAAI;IAC9B,eAAU,GAAW,qBAAqB;IAE1C,gBAAW,GAAU;MACnBC,IAAI,EAAE,QAAQ;MACdC,UAAU,EAAE,IAAI;MAChBC,KAAK,EAAET,SAAS,CAACU,OAAO;MACxBC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;KAC3C;IAOC;IACA,IAAI,CAACC,YAAY,GAAG,CAClB;MAAE,MAAM,EAAE,UAAU;MAAE,OAAO,EAAE;IAAE,CAAE,EACnC;MAAE,MAAM,EAAE,UAAU;MAAE,OAAO,EAAE;IAAE,CAAE,EACnC;MAAE,MAAM,EAAE,UAAU;MAAE,OAAO,EAAE;IAAC,CAAE,CACnC;IAED,IAAI,CAACC,YAAY,GAAG,CAClB;MAAE,MAAM,EAAE,SAAS;MAAE,OAAO,EAAE;IAAE,CAAE,EAClC;MAAE,MAAM,EAAE,SAAS;MAAE,OAAO,EAAE;IAAE,CAAE,EAClC;MAAE,MAAM,EAAE,SAAS;MAAE,OAAO,EAAE;IAAE,CAAE,CACnC;IAED,IAAI,CAACC,aAAa,GAAG,CACnB;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,EAClG;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,CACnG;IAED,IAAI,CAACC,aAAa,GAAG,CACnB;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAC,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,EACjG;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,CACnG;EACH;EAEAC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACd,eAAe,CAACe,sBAAsB,EAAE,CAACC,SAAS,CAAEC,KAAa,IAAI;MACxE,IAAI,CAACC,mBAAmB,GAAGD,KAAK;MAChC,IAAI,CAACE,kBAAkB,EAAE;IAC3B,CAAC,CAAC;IAEF,IAAI,CAAClB,eAAe,CAACmB,qBAAqB,EAAE,CAACJ,SAAS,CAAEC,KAAa,IAAI;MACvE,IAAI,CAACI,mBAAmB,GAAGJ,KAAK;MAChC,IAAI,CAACK,kBAAkB,EAAE;IAC3B,CAAC,CAAC;IAEF,IAAI,CAACpB,oBAAoB,CAACqB,0BAA0B,EAAE,CAACP,SAAS,CAAEC,KAAa,IAAI;MACjF,IAAI,CAACO,wBAAwB,GAAGP,KAAK;MACrC,IAAI,CAACQ,mBAAmB,EAAE;IAC5B,CAAC,CAAC;IAEF,IAAI,CAACtB,WAAW,CAACuB,iBAAiB,EAAE,CAACV,SAAS,CAAEC,KAAa,IAAI;MAC/D,IAAI,CAACU,iBAAiB,GAAGV,KAAK;MAC9B,IAAI,CAACW,mBAAmB,EAAE;IAC5B,CAAC,CAAC;EACJ;EAEAT,kBAAkB;IAChB;IACA,IAAI,CAACV,YAAY,GAAG,CAClB;MAAE,MAAM,EAAE,iBAAiB;MAAE,OAAO,EAAE,IAAI,CAACS;IAAmB,CAAE,EAChE;MAAE,MAAM,EAAE,UAAU;MAAE,OAAO,EAAE;IAAE,CAAE,EACnC;MAAE,MAAM,EAAE,UAAU;MAAE,OAAO,EAAE;IAAE,CAAE,EACnC;MAAE,MAAM,EAAE,UAAU;MAAE,OAAO,EAAE;IAAC,CAAE,CACnC;EACH;EAEAI,kBAAkB;IAChB;IACA,IAAI,CAACZ,YAAY,GAAG,CAClB;MAAE,MAAM,EAAE,iBAAiB;MAAE,OAAO,EAAE,IAAI,CAACW;IAAmB,CAAE,EAChE;MAAE,MAAM,EAAE,SAAS;MAAE,OAAO,EAAE;IAAE,CAAE,EAClC;MAAE,MAAM,EAAE,SAAS;MAAE,OAAO,EAAE;IAAE,CAAE,EAClC;MAAE,MAAM,EAAE,SAAS;MAAE,OAAO,EAAE;IAAE,CAAE,CACnC;EACH;EAEAI,mBAAmB;IACjB;IACA,IAAI,CAACd,aAAa,GAAG,CACnB;MAAE,MAAM,EAAE,sBAAsB;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE,IAAI,CAACa;MAAwB,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,EACzI;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,EAClG;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,CACnG;EACH;EAEAI,mBAAmB;IACjB;IACA,IAAI,CAAChB,aAAa,GAAG,CACnB;MAAE,MAAM,EAAE,eAAe;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE,IAAI,CAACe;MAAiB,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,EAC3H;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAC,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,EACjG;MAAE,MAAM,EAAE,UAAU;MAAE,QAAQ,EAAE,CAAC;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE,EAAE;QAAE,MAAM,EAAE,KAAK;QAAE,OAAO,EAAE;MAAE,CAAE;IAAC,CAAE,CACnG;EACH;EAAC;qBAxHU7B,qBAAqB;EAAA;EAAA;UAArBA,qBAAqB;IAAA+B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCdlCC,8BAAkC;QAIdA,8CAA8B;QAAAA,iBAAiB;QAC/DA,wCAAkB;QAChBA,6CAY0B;QAC5BA,iBAAmB;QAGrBA,gCAAU;QACQA,2CAAsB;QAAAA,iBAAiB;QACvDA,wCAAkB;QAChBA,2CAKuB;QACzBA,iBAAmB;QAGrBA,iCAAU;QACQA,0CAAoB;QAAAA,iBAAiB;QACrDA,yCAAkB;QAChBA,4CASwB;QAC1BA,iBAAmB;QAGrBA,iCAAU;QACQA,wDAAkC;QAAAA,iBAAiB;QACnEA,yCAAkB;QAChBA,4CASwB;QAC1BA,iBAAmB;;;QAxDfA,eAAa;QAAbA,+BAAa;QAmBbA,eAAa;QAAbA,+BAAa;QAYbA,eAAa;QAAbA,+BAAa;QAgBbA,eAAa;QAAbA,+BAAa","names":["ScaleType","StatistiquesComponent","constructor","candidatService","questionService","questionnaireService","quizService","name","selectable","group","Ordinal","domain","barChartData","pieChartData","lineChartData","areaChartData","ngOnInit","loadChartData","getTotalCandidatsCount","subscribe","count","totalCandidatsCount","updateBarChartData","getTotalQuestionCount","totalQuestionsCount","updatePieChartData","getTotalQuestionnaireCount","totalQuestionnairesCount","updateLineChartData","getTotalQuizCount","totalQuizzesCount","updateAreaChartData","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\statistiques\\statistiques.component.ts","C:\\Users\\shehn\\Music\\Andex PFE\\FrontEnd\\src\\app\\statistiques\\statistiques.component.html"],"sourcesContent":["import {  Inject } from '@angular/core';\nimport { CandidatService } from '../Services/CandidatService';\nimport { QuestionService } from '../Services/QuestionService';\nimport { QuestionnaireService } from '../Services/Questionnaire';\nimport { QuizService } from '../Services/QuizService';\n\nimport { Component, OnInit } from '@angular/core';\nimport { ScaleType, Color } from '@swimlane/ngx-charts';\n@Component({\n  selector: 'app-statistiques',\n  templateUrl: './statistiques.component.html',\n  styleUrls: ['./statistiques.component.css']\n})\n\nexport class StatistiquesComponent implements OnInit {\n  barChartData: any[];\n  pieChartData: any[];\n  lineChartData: any[];\n  areaChartData: any[];\n  totalCandidatsCount!: number;\n  totalQuestionsCount!: number;\n  totalQuestionnairesCount!: number;\n  totalQuizzesCount!: number;\n\n  view: [number, number] = [350, 250]; // Taille des graphiques\n\n  // options\n  showXAxis: boolean = true;\n  showYAxis: boolean = true;\n  gradient: boolean = false;\n  showLegend: boolean = true;\n  showXAxisLabel: boolean = true;\n  xAxisLabel: string = 'Niveau';\n  showYAxisLabel: boolean = true;\n  yAxisLabel: string = 'Nombre de candidats';\n\n  colorScheme: Color = {\n    name: 'custom',\n    selectable: true,\n    group: ScaleType.Ordinal,\n    domain: ['#0000FF', '#FFFF00', '#808080'] // Bleu, Jaune, Gris\n  };\n\n  constructor(private candidatService: CandidatService,\n    private questionService: QuestionService,\n    private questionnaireService: QuestionnaireService,\n    private quizService: QuizService,\n  ) {\n    // Initialisation des données\n    this.barChartData = [\n      { \"name\": \"Niveau 1\", \"value\": 12 },\n      { \"name\": \"Niveau 2\", \"value\": 19 },\n      { \"name\": \"Niveau 3\", \"value\": 3 }\n    ];\n\n    this.pieChartData = [\n      { \"name\": \"Score 1\", \"value\": 10 },\n      { \"name\": \"Score 2\", \"value\": 20 },\n      { \"name\": \"Score 3\", \"value\": 30 }\n    ];\n\n    this.lineChartData = [\n      { \"name\": \"Niveau 1\", \"series\": [{ \"name\": \"Jan\", \"value\": 10 }, { \"name\": \"Feb\", \"value\": 20 }] },\n      { \"name\": \"Niveau 2\", \"series\": [{ \"name\": \"Jan\", \"value\": 30 }, { \"name\": \"Feb\", \"value\": 25 }] }\n    ];\n\n    this.areaChartData = [\n      { \"name\": \"Niveau 1\", \"series\": [{ \"name\": \"Jan\", \"value\": 5 }, { \"name\": \"Feb\", \"value\": 15 }] },\n      { \"name\": \"Niveau 2\", \"series\": [{ \"name\": \"Jan\", \"value\": 10 }, { \"name\": \"Feb\", \"value\": 30 }] }\n    ];\n  }\n\n  ngOnInit(): void {\n    this.loadChartData();\n  }\n\n  loadChartData() {\n    this.candidatService.getTotalCandidatsCount().subscribe((count: number) => {\n      this.totalCandidatsCount = count;\n      this.updateBarChartData();\n    });\n\n    this.questionService.getTotalQuestionCount().subscribe((count: number) => {\n      this.totalQuestionsCount = count;\n      this.updatePieChartData();\n    });\n\n    this.questionnaireService.getTotalQuestionnaireCount().subscribe((count: number) => {\n      this.totalQuestionnairesCount = count;\n      this.updateLineChartData();\n    });\n\n    this.quizService.getTotalQuizCount().subscribe((count: number) => {\n      this.totalQuizzesCount = count;\n      this.updateAreaChartData();\n    });\n  }\n\n  updateBarChartData() {\n    // Mettre à jour barChartData avec les nouvelles valeurs\n    this.barChartData = [\n      { \"name\": \"Total Candidats\", \"value\": this.totalCandidatsCount },\n      { \"name\": \"Niveau 1\", \"value\": 12 },\n      { \"name\": \"Niveau 2\", \"value\": 19 },\n      { \"name\": \"Niveau 3\", \"value\": 3 }\n    ];\n  }\n\n  updatePieChartData() {\n    // Mettre à jour pieChartData avec les nouvelles valeurs\n    this.pieChartData = [\n      { \"name\": \"Total Questions\", \"value\": this.totalQuestionsCount },\n      { \"name\": \"Score 1\", \"value\": 10 },\n      { \"name\": \"Score 2\", \"value\": 20 },\n      { \"name\": \"Score 3\", \"value\": 30 }\n    ];\n  }\n\n  updateLineChartData() {\n    // Mettre à jour lineChartData avec les nouvelles valeurs\n    this.lineChartData = [\n      { \"name\": \"Total Questionnaires\", \"series\": [{ \"name\": \"Jan\", \"value\": this.totalQuestionnairesCount }, { \"name\": \"Feb\", \"value\": 20 }] },\n      { \"name\": \"Niveau 1\", \"series\": [{ \"name\": \"Jan\", \"value\": 10 }, { \"name\": \"Feb\", \"value\": 20 }] },\n      { \"name\": \"Niveau 2\", \"series\": [{ \"name\": \"Jan\", \"value\": 30 }, { \"name\": \"Feb\", \"value\": 25 }] }\n    ];\n  }\n\n  updateAreaChartData() {\n    // Mettre à jour areaChartData avec les nouvelles valeurs\n    this.areaChartData = [\n      { \"name\": \"Total Quizzes\", \"series\": [{ \"name\": \"Jan\", \"value\": this.totalQuizzesCount }, { \"name\": \"Feb\", \"value\": 15 }] },\n      { \"name\": \"Niveau 1\", \"series\": [{ \"name\": \"Jan\", \"value\": 5 }, { \"name\": \"Feb\", \"value\": 15 }] },\n      { \"name\": \"Niveau 2\", \"series\": [{ \"name\": \"Jan\", \"value\": 10 }, { \"name\": \"Feb\", \"value\": 30 }] }\n    ];\n  }\n}\n","<div class=\"statistics-container\">\n\n\n  <mat-card>\n    <mat-card-title>Nombre de Candidats par Niveau</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-bar-vertical\n        [view]=\"view\"\n        [results]=\"barChartData\"\n        [gradient]=\"gradient\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [legend]=\"showLegend\"\n        [showXAxisLabel]=\"showXAxisLabel\"\n        [showYAxisLabel]=\"showYAxisLabel\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-bar-vertical>\n    </mat-card-content>\n  </mat-card>\n\n  <mat-card>\n    <mat-card-title>Répartition des Scores</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-pie-chart\n        [view]=\"view\"\n        [results]=\"pieChartData\"\n        [legend]=\"showLegend\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-pie-chart>\n    </mat-card-content>\n  </mat-card>\n\n  <mat-card>\n    <mat-card-title>Évolution des Scores</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-line-chart\n        [view]=\"view\"\n        [results]=\"lineChartData\"\n        [legend]=\"showLegend\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-line-chart>\n    </mat-card-content>\n  </mat-card>\n\n  <mat-card>\n    <mat-card-title>Évolution des Candidats par Niveau</mat-card-title>\n    <mat-card-content>\n      <ngx-charts-area-chart\n        [view]=\"view\"\n        [results]=\"areaChartData\"\n        [legend]=\"showLegend\"\n        [xAxis]=\"showXAxis\"\n        [yAxis]=\"showYAxis\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\"\n        [scheme]=\"colorScheme\">\n      </ngx-charts-area-chart>\n    </mat-card-content>\n  </mat-card>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}